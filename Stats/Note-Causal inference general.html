

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Causal Inference General Study Notes &#8212; Study Notes</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=12da95d707ffb74b382d" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=12da95d707ffb74b382d" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=12da95d707ffb74b382d" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=12da95d707ffb74b382d" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=12da95d707ffb74b382d" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=12da95d707ffb74b382d" />

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js"></script>
    <script src="https://wavedrom.com/skins/default.js"></script>
    <script src="https://wavedrom.com/wavedrom.min.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="https://unpkg.com/mermaid@9.4.0/dist/mermaid.min.js"></script>
    <script>mermaid.initialize({startOnLoad:true});</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'Stats/Note-Causal inference general';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Competing risk models" href="Note-Competing_Risk_Regression.html" />
    <link rel="prev" title="Exploring Bayesian Optimization" href="Note-Bayesian%20optimization.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="../intro.html">
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo.png" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="../_static/logo.png" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    Study Notes Index (knowledge base structure)
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Statistics</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="Book-Analysis%20of%20Observational%20Health%20Care%20Data%20Using%20SAS.html">[book] Analysis of Observational Health Care Data Using SAS</a></li>
<li class="toctree-l1"><a class="reference internal" href="Book-Causal%20Inference%20What%20If.html">[book] Causal Inference: What If</a></li>
<li class="toctree-l1"><a class="reference internal" href="Book-Causal_inference_in_statistics_a_primer.html">[book] Causal inference in statistics <em>a primer</em></a></li>
<li class="toctree-l1"><a class="reference internal" href="Book-Data_Analysis_Using_Regression_and_Multilevel_Hierarchical_Models.html">[book] Data Analysis Using Regression and Multilevel/Hierarchical Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="Book-Fundamentals%20of%20Clinical%20Trials%20%284th%20edition%29.html">[book] Fundamentals of Clinical Trials (4th edition)</a></li>
<li class="toctree-l1"><a class="reference internal" href="Book-Group%20Sequential%20and%20Confirmatory%20Adaptive%20Designs%20in%20Clinical%20Trials.html">[book] Group Sequential and Confirmatory Adaptive Designs in Clinical Trials</a></li>
<li class="toctree-l1"><a class="reference internal" href="Book-Regression%20Modeling%20Strategies.html">[book] Regression Modeling Strategies</a></li>
<li class="toctree-l1"><a class="reference internal" href="Note-Adaptive%20Trial%20Design.html">Adaptive Clinical Trial Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="Note-Analysis%20of%20Ordinal%20Outcome.html">Analysis of ordinal outcome</a></li>
<li class="toctree-l1"><a class="reference internal" href="Note-Analysis%20of%20Stratified%20Randomization%20Trial%20Data.html">Why analysis of stratified randomization trial data need to account for the stratification factors?</a></li>
<li class="toctree-l1"><a class="reference internal" href="Note-Association%20vs.%20Prediction%20vs.%20Causation.html">Association vs. Prediction vs. Causation</a></li>
<li class="toctree-l1"><a class="reference internal" href="Note-Baseline%20Adaptive%20Randomization.html">Baseline adaptive randomization</a></li>
<li class="toctree-l1"><a class="reference internal" href="Note-Bayesian%20optimization.html">Exploring Bayesian Optimization</a></li>

<li class="toctree-l1 current active"><a class="current reference internal" href="#">Causal Inference General Study Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="Note-Competing_Risk_Regression.html">Competing risk models</a></li>
<li class="toctree-l1"><a class="reference internal" href="Note-Correlated%20Data%20Analysis.html">Correlated/Longitudinal Data Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="Note-Cox_PH_model.html">​Cox PH model</a></li>
<li class="toctree-l1"><a class="reference internal" href="Note-Dirichlet%20process.html">Dirichlet process</a></li>
<li class="toctree-l1"><a class="reference internal" href="Note-FDA%20guidances%20for%20industry.html">Notes on FDA Guidances for Industry</a></li>
<li class="toctree-l1"><a class="reference internal" href="Note-Gaussian%20process.html">Gaussain Process</a></li>
<li class="toctree-l1"><a class="reference internal" href="Note-Group_Sequential_Trial_Design.html">Notes on Group Sequential Trial Design​</a></li>
<li class="toctree-l1"><a class="reference internal" href="Note-ICH%20guidelines.html">Notes on ICH guidelines​</a></li>
<li class="toctree-l1"><a class="reference internal" href="Note-MDD%20%26%20Effect%20size.html">Power, <strong>MDD</strong>/<strong>E</strong> (minimum detectable difference/effect), and <strong>Effect size</strong> in clinical trials</a></li>
<li class="toctree-l1"><a class="reference internal" href="Note-Meta-Analysis.html">Meta-analysis​</a></li>
<li class="toctree-l1"><a class="reference internal" href="Note-Missing%20data.html">Missing data</a></li>
<li class="toctree-l1"><a class="reference internal" href="Note-Model%20comparison%20methods.html">Model comparison methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="Note-Monte%20Carlo%20method.html">Monte Carlo Method</a></li>
<li class="toctree-l1"><a class="reference internal" href="Note-Multicolinearity.html">Multicolinearity</a></li>
<li class="toctree-l1"><a class="reference internal" href="Note-Multiplicity%20in%20Clinical%20Trials.html">Multiplicity in Clinical Trials</a></li>
<li class="toctree-l1"><a class="reference internal" href="Note-Non-inferiority%20equivalence%20superiority%20test.html">Non-inferiority/equivalence/superiority test basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="Note-Observational%20study%20design.html">Observational study design</a></li>
<li class="toctree-l1"><a class="reference internal" href="Note-Propensity%20score%20methods.html">Propensity Score Methods &amp; Implementation</a></li>
<li class="toctree-l1"><a class="reference internal" href="Note-Quantile%20regression.html">Quantile regression</a></li>
<li class="toctree-l1"><a class="reference internal" href="Note-Sample_size_calculation_with_WMW_test.html">Sample size calculation for the Wilcoxon-Mann-Whitney test adjusting for ties</a></li>
<li class="toctree-l1"><a class="reference internal" href="Note-Survival_Analysis.html">Survival Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="%C2%A0Note-Trimmed%20means%20analysis.html">Trimmed means analysis</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Statistical computing</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../Stats_Comp/Note-How%20R%20searches%20and%20finds%20stuff.html">How R searches and finds stuff</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Stats_Comp/Note-Pandas.html">Pandas study note</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Stats_Comp/Note-R%20notes.html">R study notes/tips</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Stats_Comp/Note-googleVis.html">Google R package googleVis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Stats_Comp/Note-matplotlib.html">Notes on <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code></a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">DS/ML</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../DS_ML/Book-Hands-On%20Machine%20Learning%20with%20Scikit-Learn%20and%20TensorFlow.html">[book] Hands-On Machine Learning with Scikit-Learn and TensorFlow</a></li>
<li class="toctree-l1"><a class="reference internal" href="../DS_ML/Book-Python%20Data%20Science%20Handbook.html">[book] Python Data Science Handbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../DS_ML/Course-Udemy-%20Python%20for%20Data%20Science%20and%20Machine%20Learning%20Bootcamp.html">Udemy: Python for Data Science and Machine Learning Bootcamp</a></li>
<li class="toctree-l1"><a class="reference internal" href="../DS_ML/Note-Boosting.html">Boosting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../DS_ML/Note-Cluster%20analysis.html">Cluster analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../DS_ML/Note-Machine%20Learning%20%28General%29.html">​Machine Learning (General)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../DS_ML/Note-Naive%20Bayes.html">Naive Bayes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../DS_ML/Note-Stochasitic%20Gradient%20Descent.html">Stochastic Gradient Decent (SGD)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../DS_ML/Note-Tree%2C%20Random%20Forest%20%28Bagging%29.html">Tree/Random Forest (Bagging)</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Computer science</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../CS/Course-%E5%BB%96%E9%9B%AA%E5%B3%B0python%E6%95%99%E7%A8%8B%E7%AC%94%E8%AE%B0.html">廖雪峰python教程笔记</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CS/Note-HTML%20basics.html">HTML Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CS/Note-Hard%20SQL%20interview%20questions.html">Hard Data Analyst SQL Interview Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CS/Note-Inside%20look%20at%20modern%20web%20browser.html">Inside look at modern web browser</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CS/Note-Learning%20React.html">Learning React</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CS/Note-Learning%20Rust.html">Learning Rust</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CS/Note-Modern%20JS%20explained.html">Modern JavaScript Explained</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CS/Note-Python%20numpy.html">Numpy study notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CS/Note-SQL%20Study%20Notes.html">SQL study notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CS/Note-git%20and%20github.html">git and github</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Math</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../Math/Course-Essence%20of%20linear%20algebra.html">Essence of linear algebra</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Miscellaneous</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../Miscellaneous/Early%20managment%20of%20patients%20with%20AIS.html">Early management of patients with acute ischemic stroke</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Miscellaneous/Miscellaneous%20Notes.html">Miscellaneous Study Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Miscellaneous/Phamaceutical%20development.html">Pharmacedutical development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Miscellaneous/Sim-Coin%20flip.html">:bulb: Q: fair coin, # of flips to get two consecutive side (H or T)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Miscellaneous/Sim-Generate%20random%20number%20between%201%20to%207.html">Generate random number 1 to 7 using a fair dice</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/askming/study_notes" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/askming/study_notes/issues/new?title=Issue%20on%20page%20%2FStats/Note-Causal inference general.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/Stats/Note-Causal inference general.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Causal Inference General Study Notes</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#be-careful-when-interpreting-predictive-models-in-search-of-causal-insights">1. Be Careful When Interpreting Predictive Models in Search of Causal Insights</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#using-predictive-model-to-help-answer-the-causal-questions">Using predictive model to help answer the causal questions</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#using-inference-method-as-predictive-model-can-t-help">Using inference method (as predictive model can’t help)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#when-both-predictive-model-causal-method-fail">When both (predictive model &amp; causal method) fail</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#causal-inference-tutorial-from-data-elixir-newsletter">2.Causal Inference Tutorial from Data Elixir Newsletter</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#part-1-foundations">Part 1: Foundations</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#part-2-core-methods-and-tools">Part 2: Core methods and tools</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#effect-measure-modifier-vs-confounding-factor-vs-interaction">3. Effect (measure) modifier vs confounding factor vs interaction</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#reference">Reference</a></li>
</ul>
</li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="causal-inference-general-study-notes">
<h1>Causal Inference General Study Notes<a class="headerlink" href="#causal-inference-general-study-notes" title="Permalink to this heading">#</a></h1>
<section id="be-careful-when-interpreting-predictive-models-in-search-of-causal-insights">
<h2><a class="reference external" href="https://towardsdatascience.com/be-careful-when-interpreting-predictive-models-in-search-of-causal-insights-e68626e664b6">1. Be Careful When Interpreting Predictive Models in Search of Causal Insights</a><a class="headerlink" href="#be-careful-when-interpreting-predictive-models-in-search-of-causal-insights" title="Permalink to this heading">#</a></h2>
<blockquote>
<div><p>A careful exploration of the pitfalls of trying to extract causal insights from modern predictive machine learning models.</p>
</div></blockquote>
<ul class="simple">
<li><p>Predictive model tends to identify the <strong>correlations</strong> between features and the outcome, which is different from causation that indicates the underlying data generation (<strong>causal</strong>) process</p></li>
<li><p>Thus, variable importance identified from the predictive model (e.g using <span class="xref myst">SHAP</span> isn’t a good indicator for a strong causal effect on the outcome</p></li>
<li><p>When we have the same information captured by several features, predictive models can use any of those features for prediction, even though they are not all causal.</p></li>
<li><p>e.g. the regularized model identifies Ad Spend as a useful predictor because it summarizes multiple causal drivers (so leading to a sparser model), but that becomes seriously misleading if we start to interpret it as a causal effect.</p></li>
</ul>
<section id="using-predictive-model-to-help-answer-the-causal-questions">
<h3>Using predictive model to help answer the causal questions<a class="headerlink" href="#using-predictive-model-to-help-answer-the-causal-questions" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>By looking at the bar plot (dendrogram) generated from SHAP to identify covariate(s) that is  “independent” of and unconfounded by other (observed &amp; unobserved) factors</p></li>
<li><p>When features merge together at the bottom (left) of the dendrogram it means that that the information those features contain about the outcome (renewal) is very redundant and the model could have used either feature. When features merge together at the top (right) of the dendrogram it means the information they contain about the outcome is independent from each other.</p></li>
<li><p>The important ingredient that allowed XGBoost to get a good causal effect estimate for Economy is the feature’s strong independent component (in this simulation); its predictive power for retention is not strongly redundant with any other measured features, or with any unmeasured confounders. In consequence, it is not subject to bias from either unmeasured confounders or feature redundancy.</p></li>
</ul>
</section>
<section id="using-inference-method-as-predictive-model-can-t-help">
<h3>Using inference method (as predictive model can’t help)<a class="headerlink" href="#using-inference-method-as-predictive-model-can-t-help" title="Permalink to this heading">#</a></h3>
<ol class="arabic simple">
<li><p>Observed confounding</p></li>
<li><p>Observational Causal Inference</p></li>
</ol>
<ul class="simple">
<li><p>One particularly flexible tool for observational causal inference is <strong>double/debiased machine learning</strong>. It uses any machine learning model you want to first deconfound the feature of interest (i.e. Ad Spend) and then estimate the average causal effect of changing that feature (i.e. the average slope of the causal effect).</p>
<ul>
<li><p>Train a model to predict a feature of interest (i.e. Ad Spend) using a set of possible confounders (i.e. any features not caused by Ad Spend).</p></li>
<li><p>Train a model to predict the outcome (i.e. Did Renew) using the same set of possible confounders.</p></li>
<li><p>Train a model to predict the residual variation of the outcome (the variation left after subtracting our prediction) using the residual variation of the causal feature of interest.</p></li>
</ul>
</li>
<li><p>check out causal inference package like <code class="docutils literal notranslate"><span class="pre">econML</span></code> or <code class="docutils literal notranslate"><span class="pre">CausalML</span></code></p></li>
<li><p>Double ML (or any other observational causal inference method) only works when you can measure and identify all the possible confounders of the feature for which you want to estimate causal effects.</p></li>
<li><p>However, as we usually don’t know the true causal graph thus we can’t decide which variables are confounded by which variable; we could look at the redundancy in the SHAP bar plot and find out the most redundant features and so are good candidates to control for</p></li>
</ul>
<ol class="arabic simple" start="3">
<li><p>Non-confounding redundancy</p></li>
</ol>
<ul class="simple">
<li><p>This occurs when the feature we want causal effects for causally drives, or is driven by, another feature included in the model, but that other feature is not a confounder of our feature of interest.</p></li>
<li><p>Non-confounding redundancy can be fixed in principle by removing the redundant variables from the model</p></li>
<li><p>Controlling for a feature we shouldn’t tends to hide or split up causal effects, while failing to control for a feature we should have controlled for tends to infer causal effects that do not exist. This generally makes controlling for a feature the safer option when you are uncertain.</p></li>
</ul>
<ol class="arabic simple" start="4">
<li><p>Other causal inference techniques</p></li>
</ol>
<ul class="simple">
<li><p>principals of instrumental variables, differences-in-differences, or regression discontinuities</p></li>
</ul>
</section>
<section id="when-both-predictive-model-causal-method-fail">
<h3>When both (predictive model &amp; causal method) fail<a class="headerlink" href="#when-both-predictive-model-causal-method-fail" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Barring the ability to measure the previously unmeasured features (or features correlated with them), finding causal effects in the presence of unobserved confounding is difficult. In these situations, the only way to identify causal effects that can inform policy is to create or exploit some <em><strong>*randomization*</strong></em> that breaks the correlation between the features of interest and the unmeasured confounders.</p></li>
</ul>
<p><em><em>SHAP: SHapley Additive exPlanations</em></em></p>
</section>
</section>
<hr class="docutils" />
<section id="causal-inference-tutorial-from-data-elixir-newsletter">
<h2>2.Causal Inference Tutorial from <a class="reference external" href="https://dataelixir.com/">Data Elixir Newsletter</a><a class="headerlink" href="#causal-inference-tutorial-from-data-elixir-newsletter" title="Permalink to this heading">#</a></h2>
<section id="part-1-foundations">
<h3><a class="reference external" href="https://dataelixir.com/issues/378.html">Part 1</a>: Foundations<a class="headerlink" href="#part-1-foundations" title="Permalink to this heading">#</a></h3>
<ul>
<li><p><a class="reference external" href="https://news.dataelixir.com/t/t-l-qzxdd-l-x/">Causal Inference: What If?</a></p>
<blockquote>
<div><p>Part 1 of this book (“Causal inference without models”) is not short but if you want to learn about making causal inferences from data, this provides one of the best introductions to the topic you can find on the web. It assumes zero prior knowledge of modeling or public health, and is quite approachable.</p>
</div></blockquote>
<p><em>Note: Already have this book for a while but haven’t read yet.</em></p>
</li>
<li><p><a class="reference external" href="https://ff13.fastforwardlabs.com">Causality for Machine Learning</a></p>
<blockquote>
<div><p>Chapters one and two provide a math-less introduction to a number of critical topics in causal inference. You’ll learn about causal graphs (a simple way to visualize causal relationships), the concept of the “causal hierarchy”, and counterfactuals.</p>
</div></blockquote>
</li>
<li><p><a class="reference external" href="https://journals.sagepub.com/doi/full/10.1177/2515245917745629?utm_campaign=Data_Elixir&amp;utm_source=Data_Elixir_378">Thinking Clearly About Correlations and Causation</a></p>
<blockquote>
<div><p>a slightly deeper but still math-less explanation of causal graphs.</p>
</div></blockquote>
<p><em>Note: paper in Zotero</em></p>
</li>
<li><p><a class="reference external" href="https://www.youtube.com/watch?v=OoKsLAvyIYA">Causal Inference Challenges in Industry: A perspective from experiences at LinkedIn</a></p>
<blockquote>
<div><p>this video gives you a look at how causal inference is viewed from an industry perspective (specifically at LinkedIn)</p>
</div></blockquote>
</li>
</ul>
</section>
<section id="part-2-core-methods-and-tools">
<h3><a class="reference external" href="https://dataelixir.com/issues/381.html">Part 2</a>: Core methods and tools<a class="headerlink" href="#part-2-core-methods-and-tools" title="Permalink to this heading">#</a></h3>
<ul>
<li><p>MS tutorials</p>
<ul class="simple">
<li><p><a class="reference external" href="https://medium.com/data-science-at-microsoft/causal-inference-part-1-of-3-understanding-the-fundamentals-816f4723e54a">Understanding the fundamentals</a></p></li>
<li><p><a class="reference external" href="https://medium.com/data-science-at-microsoft/causal-inference-part-2-of-3-selecting-algorithms-a966f8228a2d">Selecting algorithms</a></p></li>
<li><p><a class="reference external" href="https://medium.com/data-science-at-microsoft/causal-inference-part-3-of-3-model-validation-and-applications-c84764156a29">Model validation and applications</a></p></li>
</ul>
<blockquote>
<div><p>In this multi-part series, Jane Huang and colleagues at Microsoft outline the critical effect measures to know in causal inference, the data assumptions necessary to employ causal inference in the first place, a comparison of the many open-source packages to carry out the job, and lay out a nice categorization of the algorithms that one can employ.</p>
</div></blockquote>
</li>
<li><p><a class="reference external" href="https://academic.oup.com/aje/article/173/7/731/104142?utm_campaign=Data_Elixir&amp;utm_source=Data_Elixir_381">Implementation of G-Computation on a Simulated Data Set: Demonstration of a Causal Inference Technique</a></p>
<blockquote>
<div><p>This paper describes one of the more straight-forward modeling approaches for causal inference. This approachable paper has a FAQ and comes with code if the reader is interested in seeing how the authors arrived at their numbers. It’s an approach that <a class="reference external" href="https://news.dataelixir.com/t/t-l-qjlcut-ehrkiilji-v/">performs well against others in simulation studies too</a>.</p>
</div></blockquote>
<p><em>note: paper in Zotero</em></p>
</li>
<li><p><a class="reference external" href="https://experimentguide.com/?Chap1T">Trustworthy Online Controlled Experiments:
A Practical Guide to A/B Testing</a></p>
<blockquote>
<div><p>This gem of a book was written by the current industry giants in A/B testing and evaluating treatment effects. Understanding the methods and metrics of A/B testing will give you a fantastic intuition for various causal inference approaches.</p>
</div></blockquote>
</li>
</ul>
</section>
<hr class="docutils" />
<section id="effect-measure-modifier-vs-confounding-factor-vs-interaction">
<h3>3. Effect (measure) modifier vs confounding factor vs interaction<a class="headerlink" href="#effect-measure-modifier-vs-confounding-factor-vs-interaction" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>We say that <span class="math notranslate nohighlight">\(V\)</span> is a <em>modifier</em> of the effect of <span class="math notranslate nohighlight">\(A\)</span> on <span class="math notranslate nohighlight">\(Y\)</span> when the average causal effect of <span class="math notranslate nohighlight">\(A\)</span> on <span class="math notranslate nohighlight">\(Y\)</span> varies across levels of <span class="math notranslate nohighlight">\(V\)</span>.</p>
<ul>
<li><p>Effect modifier is really an effect measure modifier, since its effect depends on which outcome measure (e.g. odds ratio, risk difference, etc.) is being used.</p></li>
<li><p>Effect modification can exist when it’s not a confounding factor</p></li>
<li><p>When there is effect modificaiton, there is an interaction between the effect modifier and the treatment variable</p></li>
</ul>
</li>
<li><p>Confounding factor meaing a factor affects both independent (e.g. treatment) and dependent variables, it’s a different concent from effect modificaton; when a model misses adjustment for the confounding factor, there is a risk of generating biased estimate of the effec from the independent variable of interest</p></li>
<li><p>see also <a class="reference external" href="https://github.com/askming/Retro/issues/10">Retro study note</a> on this topic</p></li>
</ul>
<section id="reference">
<h4>Reference<a class="headerlink" href="#reference" title="Permalink to this heading">#</a></h4>
<ul class="simple">
<li><p><a class="reference external" href="https://thestatsgeek.com/2021/01/13/confounding-vs-effect-modification/">Confounding vs. effect modification</a></p></li>
</ul>
</section>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./Stats"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>
    <script type="text/javascript">
        function init() {
            WaveDrom.ProcessAll();
        }
        window.onload = init;
    </script>

                </article>
              

              
              
                <footer class="bd-footer-article">
                  <!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="Note-Bayesian%20optimization.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Exploring Bayesian Optimization</p>
      </div>
    </a>
    <a class="right-next"
       href="Note-Competing_Risk_Regression.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Competing risk models</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#be-careful-when-interpreting-predictive-models-in-search-of-causal-insights">1. Be Careful When Interpreting Predictive Models in Search of Causal Insights</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#using-predictive-model-to-help-answer-the-causal-questions">Using predictive model to help answer the causal questions</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#using-inference-method-as-predictive-model-can-t-help">Using inference method (as predictive model can’t help)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#when-both-predictive-model-causal-method-fail">When both (predictive model &amp; causal method) fail</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#causal-inference-tutorial-from-data-elixir-newsletter">2.Causal Inference Tutorial from Data Elixir Newsletter</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#part-1-foundations">Part 1: Foundations</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#part-2-core-methods-and-tools">Part 2: Core methods and tools</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#effect-measure-modifier-vs-confounding-factor-vs-interaction">3. Effect (measure) modifier vs confounding factor vs interaction</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#reference">Reference</a></li>
</ul>
</li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            <div class="bd-footer-content__inner">
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Ming Yang
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2022.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div></div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=12da95d707ffb74b382d"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=12da95d707ffb74b382d"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>